{% extends "blog/header.html" %}
{% load static %}
{% block styles %}
    
    {{ block.super }}
    
{% endblock %}

{% block content %}

<div id = "webpage">
    
    {{ block.super }}

    <div id = "page">

        <div id = "right_side" style = "width: 20%;">
            <div class = "section_separator">
                FILTER
            </div>
            
            <div>
                <br>
                <form method = "POST" action="">{% csrf_token %}
                    
                    <input name = "search" type = "text" placeholder="Search a Movie">
                    <p></p>
                    
                    <label class = "filter">By Genre:</label>
                    <br>

                    {% for genre in genres %}
                        <label for = "{{ genre.name }}"><input name = "{{ genre.name }}" type = "checkbox">{{ genre.name }}</label><br>
                    {% endfor %}
                    <p></p>

                    <label class = "filter">Exact Matching: <input type = "checkbox" name  = "Exact Matching"></label>
 
                    <p></p>
                    <label class = "filter">By Release Date:<input type = checkbox name = "Release Date"></label> 

                    <p></p>

                    <label class = "filter">By Review Date:<input type = "checkbox" name = "Review Date"></label>

                    <p></p>

                    <label class = "filter">A-Z:<input type = "checkbox" name = "A-Z"></label>

                    <p></p>
                    <button type = button>Clear All Filters</button>

                    <p></p>
                    <button>Apply Filter</button>
                </form>

            </div>
        </div>

        <div id = "parent" style = "width: 80%;">
        
            <div class = "section_separator">
                MOVIES
            </div>
            <br>

            <div class = "wrap_objects">
                {% for movie in movies_list %}
                    <div class = "images" style = "max-height: 45%;max-width: 10%">
                        <a href = "{% url 'MoviesDetail' movie.id %}">
                            <img src="{{ movie.image.url }}" style="width: 100%; height: 100%;" >
                        </a>
                        <figcaption style = "text-align: center;">
                            {{ movie.name }}
                        </figcaption>
                    </div>
                {% endfor %}
            </div>
        </div>

    </div>
    <div id = "bottom">
        
    </div> 
</div>

{% endblock %}

{% block scripts %}

<script src = "{% static 'blog/js/jquery.js' %}"></script>


{{ applied_filters|json_script:'applied_filters' }}
{{ searched|json_script:'searched' }}

<script type="text/javascript" src = "{% static 'blog/js/filter.js' %}"></script>
{% endblock %}